(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{BIB7:function(t,e,i){},lAKY:function(t,e,i){"use strict";i.r(e);var o=i("q1tI");i("BIB7");function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],o=!0,a=!1,n=void 0;try{for(var r,s=t[Symbol.iterator]();!(o=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{o||null==s.return||s.return()}finally{if(a)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=function t(e,i){for(var o in i){var a=i[o],n=e[o];e[o]?n.constructor===Object&&(e[o]=t(e[o],a)):void 0===e[o]&&(a instanceof Array?e[o]=a.slice():a.constructor===Object?e[o]=t({},i[o]):e[o]=a)}return e},r=function(t,e){var i=new Date(t),o="".concat(i.getMonth()+1).length<2?"0".concat(i.getMonth()+1):"".concat(i.getMonth()+1),a="".concat(i.getDate()).length<2?"0".concat(i.getDate()):"".concat(i.getDate());return e.replace("MM",o).replace("DD",a)},s=function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=t.moveTo.bind(t);t.moveTo=function(t,o){return a(e(t),i(o))};var n=t.lineTo.bind(t);t.lineTo=function(t,o){return n(e(t),i(o))};var r=t.fillText.bind(t);t.fillText=function(t,o,a,n){return r(t,e(o),i(a),n)};var s=t.arc.bind(t);t.arc=function(t,a,n,r,h,c){return s(e(t),i(a),n*o,r-Math.PI/2,h-Math.PI/2,c)};var h=t.rect.bind(t);t.rect=function(t,a,n,r){return h(e(t),i(a),n*o,r*o)};var c=t.fillRect.bind(t);t.fillRect=function(t,a,n,r){return c(e(t),i(a),n*o,r*o)};var l=t.clearRect.bind(t);t.clearRect=function(t,a,n,r){return l(e(t),i(a),n*o,r*o)};var d=t.createLinearGradient.bind(t);t.createLinearGradient=function(t,o,a,n){return d(e(t),i(o),e(a),i(n))};var p=t.bezierCurveTo.bind(t);return t.bezierCurveTo=function(t,o,a,n,r,s){return p(e(t),i(o),e(a),i(n),e(r),i(s))},t},h=function(t){return t%5?t+5-t%5:t+5},c=function(t){var e=0;return Array.prototype.forEach.call(t,function(t){return t.charCodeAt(0)<128?e+=.5:e+=1}),e},l=function(t,e,i){return t>=i[0][0]&&t<=i[1][0]&&e>=i[0][1]&&e<=i[1][1]},d=function(t,e,i){var o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),n=a(i,4),r=n[0],s=n[1],h=n[2],c=n[3],l=a(u([t,e]),2),d=0*l[0]+1*l[1],p=Math.acos(d);return t<0&&(p=2*Math.PI-p),r<=o&&o<=s&&p>=h&&p<=c},p=function(t,e,i,o){return[i*Math.sin((e+t)/2),i*Math.cos((e+t)/2)]},u=function(t){var e=a(t,2),i=e[0],o=e[1],n=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));return[i/n,o/n]},f=function(t,e,i){t.beginPath(),i&&t.setLineDash(i),t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.stroke(),t.closePath()},g={mountNode:document.querySelector("body"),width:800,height:500,dpi:2,colors:["#0E4AB3","#1B68D9","#2F88FF","#57A5FF","#A8D7FF","#D1EBFF","#F1F9FF"],textOptions:{size:12,color:"#666"},lineOptions:{width:1,color:"#666",gradient:[],bezierCurve:!1},scaleOptions:{width:1,color:"#666",dash:[10,10]},toolTip:{renderer:function(t,e,i){return"<div style='left: ".concat(e,"px;bottom: ").concat(i,"px'>").concat(t.item,": ").concat(t.value,"</div>")},color:["red"]}},v=Object.assign({datas:[],usePercentage:!1,drawScale:{x:!0,y:!0},barStyle:{width:10,color:"#666",lineCap:"round"},scalePaddingLeft:48},g),m=Object.assign({datas:[],radius:{inner:200,outer:400},startAngle:0,gap:0,legends:!0},g),x=n({datas:[],drawScale:{x:!0,y:!0},scalePaddingLeft:48,scaleOptions:{x:{format:"MM-DD",tip:!1}}},g);function w(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e,i){return e&&w(t.prototype,e),i&&w(t,i),t}var y,P=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this.wrapperElement=void 0,this.scaleCtx=void 0,this.chartCtx=void 0,this.tooltipCtx=void 0,this.highestYScale=void 0,this.yScaleCoordinates=[],this.xScaleCoordinates=[],this.registeredBarAreas=[],this.width=void 0,this.height=void 0,this._scalePaddingLeft=void 0,this.scalePaddingBottom=void 0,this.scalePaddingTop=void 0,this.ySpaceAvailableForBar=void 0,this.positions=void 0,this.handleMouseMove=function(t){for(var e=i.height-t.offsetY,o=t.offsetX,a=0;a<i.registeredBarAreas.length;a++){if(l(o,e,i.registeredBarAreas[a].areas)){i.registeredBarAreas[a].areas;var n=i.xScaleCoordinates[a];i.tooltipCtx.lineWidth=i.options.lineOptions.width;var r=i.height-i.scalePaddingBottom+i.scalePaddingTop,s=c(String(i.registeredBarAreas[a].data.value))*i.options.textOptions.size;return f(i.tooltipCtx,[n,[n[0],r]]),void i.tooltipCtx.fillText(String(i.registeredBarAreas[a].data.value),n[0]-s/2,r)}}return i.tooltipCtx.clearRect(0,i.height,i.width,i.height-i.scalePaddingBottom)},this.handleTouchStart=function(t){var e=i.wrapperElement.getBoundingClientRect(),o=i.height-(t.touches[0].clientY-e.top),a=t.touches[0].pageX-e.left;i.tooltipCtx.clearRect(0,i.height,i.width,i.height-i.scalePaddingBottom),i.tooltipCtx.setLineDash([15,15]),i.tooltipCtx.fillStyle=i.tooltipCtx.strokeStyle=i.options.toolTip.color[0],i.tooltipCtx.font="".concat(i.options.textOptions.size*i.options.dpi*.9,"px Arial");for(var n=0;n<i.registeredBarAreas.length;n++){if(l(a,o,i.registeredBarAreas[n].areas)){i.registeredBarAreas[n].areas;var r=i.xScaleCoordinates[n];i.tooltipCtx.lineWidth=i.options.lineOptions.width;var s=i.height-i.scalePaddingBottom+i.scalePaddingTop,h=i.options.toolTip.renderer?i.options.toolTip.renderer(i.registeredBarAreas[n].data,0,0):String(i.registeredBarAreas[n].data.value),d=c(h)*i.options.textOptions.size;return f(i.tooltipCtx,[r,[r[0],s-10]]),void i.tooltipCtx.fillText(i.options.toolTip.renderer?i.options.toolTip.renderer(i.registeredBarAreas[n].data,r[0]-d/2,s):String(i.registeredBarAreas[n].data.value),r[0]-d/2,s)}}return i.tooltipCtx.clearRect(0,i.height,i.width,i.height-i.scalePaddingBottom)},e.mountNode){var o=n(e,v);o.colors=o.colors.concat(g.colors),this.options=o;var a=document.createElement("div");a.className="mcharts-wrapper",a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px"),this.wrapperElement=a;var r=document.createElement("canvas"),h=document.createElement("canvas"),d=document.createElement("canvas");return h.width=r.width=d.width=o.width*o.dpi,h.height=r.height=d.height=o.height*o.dpi,this.width=o.width,this.height=o.height,this.wrapperElement.appendChild(r),this.wrapperElement.appendChild(h),this.wrapperElement.appendChild(d),e.mountNode.appendChild(this.wrapperElement),this.scaleCtx=s(r.getContext("2d"),function(t){return t*i.options.dpi},function(t){return(i.height-t)*i.options.dpi}),this.chartCtx=s(h.getContext("2d"),function(t){return t*i.options.dpi},function(t){return(i.height-t)*i.options.dpi}),this.tooltipCtx=s(d.getContext("2d"),function(t){return t*i.options.dpi},function(t){return(i.height-t)*i.options.dpi}),o.lineOptions.width*=o.dpi,o.scaleOptions.width*=o.dpi,o.barStyle.width*=o.dpi,a.addEventListener("touchstart",this.handleTouchStart),this.drawScales(),this}}return C(t,[{key:"scalePaddingLeft",get:function(){return this._scalePaddingLeft},set:function(t){this._scalePaddingLeft=t}}]),C(t,[{key:"rerender",value:function(t){this.options.datas=t,this.xScaleCoordinates=[],this.yScaleCoordinates=[],this.registeredBarAreas=[],this.scaleCtx.beginPath(),this.scaleCtx.clearRect(0,this.height,this.width,this.height),this.chartCtx.beginPath(),this.chartCtx.clearRect(0,this.height,this.width,this.height),this.tooltipCtx.beginPath(),this.tooltipCtx.clearRect(0,this.height,this.width,this.height),this.drawScales()}},{key:"drawScales",value:function(){var t=this,e=this.scaleCtx,i=this.options,o=i.datas,a=i.drawScale,n=i.textOptions,r=i.scalePaddingLeft,s=this.options.textOptions.size;this.scalePaddingLeft=r,this.scalePaddingTop=2*n.size,this.scalePaddingBottom=3*n.size,this.scaleCtx.strokeStyle=this.options.scaleOptions.color,a.x&&f(e,[[this.scalePaddingLeft,this.scalePaddingBottom],[this.width,this.scalePaddingBottom]]),a.y&&f(e,[[this.scalePaddingLeft,this.scalePaddingBottom],[this.scalePaddingLeft,this.height-this.scalePaddingTop]]),this.highestYScale=h(Math.max.apply(Math,o.map(function(t){return t.value})));var l=this.highestYScale/4;this.ySpaceAvailableForBar=this.height-this.scalePaddingBottom-s/2-this.scalePaddingTop;var d=this.ySpaceAvailableForBar/4;e.textAlign="right",e.font="".concat(n.size*this.options.dpi*.9,"px Arial"),e.fillStyle=n.color,Array.from({length:5}).forEach(function(i,o){var n=t.scalePaddingBottom+d*o;0!==o&&a.y&&f(e,[[t.scalePaddingLeft,n],[t.width,n]],[15,5]),t.yScaleCoordinates.push([t.scalePaddingLeft,n]),a.y&&e.fillText(String(Math.floor(l*o)),t.scalePaddingLeft-10,n-s/2)});var p=Math.min(.9*(this.width-this.scalePaddingLeft),this.width-this.scalePaddingLeft-this.options.barStyle.width/this.options.dpi)/(o.length-1),u=this.scalePaddingBottom,g=this.scalePaddingBottom-s/2;a.y&&f(this.scaleCtx,[[this.scalePaddingLeft,u],[this.scalePaddingLeft,g]]);for(var v=0;v<o.length;v++){var m=this.scalePaddingLeft+Math.max(.05*this.width,this.options.barStyle.width/this.options.dpi/2)+p*v;a.x&&f(this.scaleCtx,[[m,u],[m,g]]),a.x&&e.fillText(o[v].item,m+c(o[v].item)*s/2,g-1.5*s),this.xScaleCoordinates.push([m,u])}this.drawBars()}},{key:"drawBars",value:function(){var t=this,e=this.options.datas,i=this.options.barStyle.width;this.chartCtx.strokeStyle=this.options.colors[0],this.chartCtx.lineWidth=i;var o=this.scalePaddingBottom;this.xScaleCoordinates.forEach(function(i,a){var n=i[0],r=t.scalePaddingBottom+e[a].value/t.highestYScale*t.ySpaceAvailableForBar;0!==e[a].value&&setTimeout(function(){t.animateBar(n,o,r)},200*a),t.registeredBarAreas.push({areas:[[n-t.options.barStyle.width/4,o],[n+t.options.barStyle.width/4,0===e[a].value?o+100:r]],data:e[a]})})}},{key:"animateBar",value:function(t,e,i){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e+4,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor((e-i)/4),s=this.chartCtx;s.moveTo(t,e),s.lineTo(t,a),s.stroke(),a<=i&&requestAnimationFrame(function(){o.animateBar(t,e,i,a+4,n+1,r)})}}]),t}();function b(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var S=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this.wrapperElement=void 0,this.scaleCtx=void 0,this.chartCtx=void 0,this.registeredArcAreas=[],this.width=void 0,this.height=void 0,this.valueSum=void 0,this.drawLabels=function(){var t=[0,0,0,0];i.registeredArcAreas.forEach(function(e){var i=Math.floor((e.area.start+e.area.end)/2/(Math.PI/2));t[i]++});var e=i.options.textOptions.size*i.options.dpi;i.chartCtx.font="".concat(e,"px Arial");var o=0;t.forEach(function(t,e){Array.from({length:t}).forEach(function(t,a){var n,r,s=i.registeredArcAreas[o];switch(i.chartCtx.strokeStyle=i.chartCtx.fillStyle=i.options.colors[o%i.options.colors.length],e){case 0:r=i.height/2-i.options.textOptions.size-i.options.textOptions.size*a*1.5;break;case 1:r=-i.options.textOptions.size-i.options.textOptions.size*a*1.5;break;case 2:r=-i.height/2+i.options.textOptions.size+i.options.textOptions.size*a*1.5;break;case 3:r=-i.options.textOptions.size+i.options.textOptions.size*a*1.5}i.chartCtx.textAlign=e<=1?"right":"left",n=e<=1?i.width/2:i.width/2*-1,i.chartCtx.fillText(s.data.item,n,r);var h=[n+(c(s.data.item)*i.options.textOptions.size+5)*(e<=1?-1:1),r],l=p(s.area.start,s.area.end,i.options.radius.outer);f(i.chartCtx,[h,l]),o++})})},this.handleMouseMove=function(t){for(var e=i.height/2-t.offsetY,o=t.offsetX-i.width/2,a=i.options,n=0;n<i.registeredArcAreas.length;n++){var r=i.registeredArcAreas[n];if(d(o,e,[a.radius.inner,a.radius.outer,r.area.start,r.area.end]))return y!==r&&(y=r,i.clearEnlargedPie()),i.drawEnlargedPie(i.registeredArcAreas[n],n)}return i.clearEnlargedPie()},this.drawEnlargedPie=function(t,e){console.log("enlarge!");var o=i.options.radius;i.scaleCtx.beginPath(),i.scaleCtx.fillStyle=i.options.colors[e%i.options.colors.length],i.scaleCtx.arc(0,0,o.outer+10,t.area.start,t.area.end),i.scaleCtx.arc(0,0,o.inner-10,t.area.end,t.area.start,!0),i.scaleCtx.fill(),i.scaleCtx.closePath()},this.clearEnlargedPie=function(){console.log("clear!"),i.scaleCtx.clearRect(-i.width,i.height,2e3,2e3)},e.mountNode){var o=n(e,m);o.colors=o.colors.concat(g.colors),this.options=o;var a=document.createElement("div");a.className="mcharts-wrapper",a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px"),this.wrapperElement=a;var r=document.createElement("canvas"),h=document.createElement("canvas");return h.width=r.width=o.width*o.dpi,h.height=r.height=o.height*o.dpi,this.width=o.width,this.height=o.height,this.wrapperElement.appendChild(r),this.wrapperElement.appendChild(h),e.mountNode.appendChild(this.wrapperElement),this.scaleCtx=s(r.getContext("2d"),function(t){return(t+i.width/2)*i.options.dpi},function(t){return(i.height/2-t)*i.options.dpi},o.dpi),this.chartCtx=s(h.getContext("2d"),function(t){return(t+i.width/2)*i.options.dpi},function(t){return(i.height/2-t)*i.options.dpi},o.dpi),o.lineOptions.width*=o.dpi,o.scaleOptions.width*=o.dpi,h.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.valueSum=o.datas.reduce(function(t,e){return t+e.value},0),this.drawChart(),this}}var e,i,o;return e=t,(i=[{key:"drawChart",value:function(){var t=this,e=this.options,i=e.datas,o=e.radius,a=e.gap,n=this.options.lineOptions.width;this.chartCtx.lineWidth=n,i.reduce(function(e,i,n){var r=e/t.valueSum*Math.PI*2+a/2,s=(e+i.value)/t.valueSum*Math.PI*2-a/2;return t.chartCtx.beginPath(),t.chartCtx.fillStyle=t.options.colors[n%t.options.colors.length],t.chartCtx.arc(0,0,o.outer,r,s),t.chartCtx.arc(0,0,o.inner,s,r,!0),t.chartCtx.fill(),t.chartCtx.closePath(),t.registeredArcAreas.push({area:{start:r,end:s},data:i}),e+i.value},0),this.options.legends&&this.drawLabels()}}])&&b(e.prototype,i),o&&b(e,o),t}();function O(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(t,e,i){return e&&E(t.prototype,e),i&&E(t,i),t}var A=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this.wrapperElement=void 0,this.scaleCtx=void 0,this.chartCtx=void 0,this.tooltipCtx=void 0,this.chartCanvasElement=void 0,this.highestYScale=void 0,this.yScaleCoordinates=[],this.xScaleCoordinates=[],this.registeredPoints=[],this.width=void 0,this.height=void 0,this._scalePaddingLeft=void 0,this.scalePaddingBottom=void 0,this.scalePaddingTop=void 0,this.ySpaceAvailableForBar=void 0,this.positions=void 0,this.handleMouseMove=function(t){},this.handleTouchStart=function(t){i.tooltipCtx.clearRect(0,i.height,i.width,i.height),i.tooltipCtx.strokeStyle=i.tooltipCtx.fillStyle=i.options.toolTip.color[0],i.tooltipCtx.lineWidth=2,i.tooltipCtx.setLineDash([10,10]),i.tooltipCtx.font="".concat(i.options.textOptions.size*i.options.dpi*.9,"px Arial");var e,o=t.touches[0].clientX-i.positions.left;console.log(o);for(var a=1/0,n=0;n<i.registeredPoints.length;n++){var r=i.registeredPoints[n],s=Math.abs(r.position[0]-o);if(s>a)break;e=r,a=s}i.tooltipCtx.beginPath(),f(i.tooltipCtx,[[e.position[0],i.scalePaddingBottom],[e.position[0],i.height-i.scalePaddingTop]]);var h=c(String(e.data.value))*i.options.textOptions.size,l=i.height-i.scalePaddingTop+10;i.tooltipCtx.fillText(String(e.data.value),e.position[0]-h/2,l),i.tooltipCtx.stroke(),i.tooltipCtx.closePath()},e.mountNode){var o=n(e,x);this.options=o;var a=document.createElement("div");a.className="mcharts-wrapper",a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px"),this.wrapperElement=a;var r=document.createElement("canvas"),h=document.createElement("canvas");this.chartCanvasElement=h;var l=document.createElement("canvas");h.width=r.width=l.width=o.width*o.dpi,h.height=r.height=l.height=o.height*o.dpi,this.width=o.width,this.height=o.height,this.wrapperElement.appendChild(r),this.wrapperElement.appendChild(h),this.wrapperElement.appendChild(l),e.mountNode.appendChild(this.wrapperElement);var d=function(t){return t*i.options.dpi},p=function(t){return(i.height-t)*i.options.dpi};return this.scaleCtx=s(r.getContext("2d"),d,p),this.chartCtx=s(h.getContext("2d"),d,p),this.tooltipCtx=s(l.getContext("2d"),d,p),o.lineOptions.width*=o.dpi,o.scaleOptions.width*=o.dpi,a.addEventListener("touchstart",this.handleTouchStart),this.drawScales(),requestAnimationFrame(function(){i.positions=h.getBoundingClientRect()}),this}}return B(t,[{key:"scalePaddingLeft",get:function(){return this._scalePaddingLeft},set:function(t){this._scalePaddingLeft=t}}]),B(t,[{key:"rerender",value:function(t){this.options.datas=t,this.xScaleCoordinates=[],this.yScaleCoordinates=[],this.registeredPoints=[],this.scaleCtx.beginPath(),this.scaleCtx.clearRect(0,this.height,this.width,this.height),this.chartCtx.beginPath(),this.chartCtx.clearRect(0,this.height,this.width,this.height),this.tooltipCtx.beginPath(),this.tooltipCtx.clearRect(0,this.height,this.width,this.height),this.drawScales()}},{key:"drawScales",value:function(){var t=this,e=this.scaleCtx,i=this.options,o=i.datas,a=i.drawScale,n=i.textOptions,s=i.scalePaddingLeft,l=this.options.textOptions.size;Array.isArray(this.options.datas[0])||(this.highestYScale=h(Math.max.apply(Math,this.options.datas.map(function(t){return t.value})))),this.scaleCtx.lineWidth=this.options.scaleOptions.width;this.scalePaddingLeft=s,this.scalePaddingTop=2*n.size,this.scalePaddingBottom=2*n.size,this.scaleCtx.strokeStyle=this.options.scaleOptions.color,this.scaleCtx.setLineDash(this.options.scaleOptions.dash||[]),a.x&&f(e,[[this.scalePaddingLeft,this.scalePaddingBottom],[this.width,this.scalePaddingBottom]]),a.y&&f(e,[[this.scalePaddingLeft,this.scalePaddingBottom],[this.scalePaddingLeft,this.height-this.scalePaddingTop]]);var d=this.highestYScale/4;this.ySpaceAvailableForBar=this.height-this.scalePaddingBottom-l/2-this.scalePaddingTop;var p=this.ySpaceAvailableForBar/4;e.textAlign="right",e.font="".concat(n.size*this.options.dpi*.9,"px Arial"),e.fillStyle=n.color,a.y&&Array.from({length:5}).forEach(function(i,o){var a=t.scalePaddingBottom+p*o;0!==o&&f(e,[[t.scalePaddingLeft,a],[t.width,a]],[15,5]),t.yScaleCoordinates.push([t.scalePaddingLeft,a]),e.fillText(String(Math.floor(d*o)),t.scalePaddingLeft-10,a-l/2)});var u=.8*(this.width-this.scalePaddingLeft),g=u/(o.length-1),v=this.scalePaddingBottom,m=this.scalePaddingBottom-l/2;a.y&&f(this.scaleCtx,[[this.scalePaddingLeft,v],[this.scalePaddingLeft,m]]);for(var x=this.scalePaddingLeft/2+(this.width-u)/2,w=c(this.options.scaleOptions.x.format)*l,C=u-w,y=C/(Math.floor(C/w/2)+1),P=0,b=0;b<o.length;b++){var S=x+g*b;if(this.xScaleCoordinates.push([S,v]),a.x)if(0===b){this.options.scaleOptions.x.tip&&f(this.scaleCtx,[[S,v],[S,m]]);var O=r(o[b].time,this.options.scaleOptions.x.format);e.fillText(O,S+c(O)*l/2,(this.options.scaleOptions.x.tip?m:this.scalePaddingBottom)-1.5*l),P=S}else{if(S-P<=y)continue;this.options.scaleOptions.x.tip&&f(this.scaleCtx,[[S,v],[S,m]]);var E=r(o[b].time,this.options.scaleOptions.x.format);e.fillText(E,S+c(E)*l/2,(this.options.scaleOptions.x.tip?m:this.scalePaddingBottom)-1.5*l),P=S}}this.drawLines()}},{key:"drawLines",value:function(){var t=this,e=this.chartCtx,i=(this.registeredPoints,this.options.datas),o=this.options.lineOptions.width;e.strokeStyle=this.options.colors[0],e.lineWidth=o,e.lineJoin="miter";var a,n=this.height-this.scalePaddingBottom-this.scalePaddingTop,r=0;if(this.xScaleCoordinates.forEach(function(e,o){var a=i[o],s=e[0],h=n*(i[o].value/t.highestYScale)+t.scalePaddingBottom;h>r&&(r=h),t.registeredPoints.push({position:[s,h],data:a})}),this.registeredPoints.forEach(function(i,o){var n=i.position;if(t.options.lineOptions.bezierCurve){var r,s,h,c;if(0===o){var l=t.registeredPoints[o+1].position;c=[(l[0]+n[0])/2,(l[1]+n[1])/2],h=[2*n[0]-c[0],c[1]]}else if(o===t.xScaleCoordinates.length-1)h=a,c=[2*n[0]-h[0],h[1]];else{var d=t.xScaleCoordinates[o+1];h=a,c=[(d[0]+n[0])/2,d[1]+n[1]/2]}(r=t.chartCtx).moveTo.apply(r,O(h)),(s=t.chartCtx).bezierCurveTo.apply(s,[n[0],n[1],n[0],n[1]].concat(O(c))),a=c}else 0===o?(e.moveTo(n[0],t.scalePaddingBottom+t.options.scaleOptions.width/2),e.lineTo(n[0],n[1])):o===t.xScaleCoordinates.length-1?(e.lineTo(n[0],n[1]),e.lineTo(n[0],t.scalePaddingBottom+t.options.scaleOptions.width/2)):e.lineTo(n[0],n[1])}),this.options.lineOptions.gradient.length){var s=this.options.lineOptions.gradient,h=this.chartCtx.createLinearGradient(0,r,0,this.scalePaddingBottom);s.forEach(function(t){return h.addColorStop(t[0],t[1])}),this.chartCtx.fillStyle=h,this.chartCtx.fill(),this.chartCtx.clearRect(0,this.height,this.xScaleCoordinates[0][0]+1,this.height);var c=this.xScaleCoordinates.slice(-1)[0];this.chartCtx.clearRect(c[0]-1,this.height,1e3,this.height)}this.chartCtx.stroke()}}]),t}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),o.forEach(function(e){M(t,e,i[e])})}return t}function M(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e,i){return e&&z(t.prototype,e),i&&z(t,i),t}function F(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=0,N=function(t){function e(){var t,i;k(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(i=F(this,(t=D(e)).call.apply(t,[this].concat(a)))).chart=void 0,i.state={id:"lineChart-".concat(_++)},i}return R(e,o["PureComponent"]),j(e,[{key:"componentDidMount",value:function(){var t=this.state.id,e=this.props.options;this.chart=new A(L({},e,{mountNode:document.getElementById(t)}))}},{key:"componentDidUpdate",value:function(t){t.options.datas!==this.props.options.datas&&this.chart.rerender(this.props.options.datas)}},{key:"render",value:function(){var t=this.state.id;return o.createElement("div",{id:t})}}]),e}(),Y=function(t){function e(){var t,i;k(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(i=F(this,(t=D(e)).call.apply(t,[this].concat(a)))).chart=void 0,i.state={id:"barChart-".concat(_++)},i}return R(e,o["PureComponent"]),j(e,[{key:"componentDidMount",value:function(){var t=this.state.id,e=this.props.options;this.chart=new P(L({},e,{mountNode:document.getElementById(t)}))}},{key:"componentDidUpdate",value:function(t){t.options.datas.length!==this.props.options.datas.length&&this.chart.rerender(this.props.options.datas)}},{key:"render",value:function(){var t=this.state.id;return o.createElement("div",{id:t})}}]),e}(),W=function(t){function e(){var t,i;k(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(i=F(this,(t=D(e)).call.apply(t,[this].concat(a)))).chart=void 0,i.state={id:"pieChart-".concat(_++)},i}return R(e,o["PureComponent"]),j(e,[{key:"componentDidMount",value:function(){var t=this.state.id,e=this.props.options;this.chart=new S(L({},e,{mountNode:document.getElementById(t)}))}},{key:"render",value:function(){var t=this.state.id;return o.createElement("div",{id:t})}}]),e}(),q=function(){return o.createElement(W,{options:{datas:[{item:"item1",value:5},{item:"item2",value:15}],radius:{inner:100,outer:200},textOptions:{size:30}}})},X=function(){return o.createElement(N,{options:{datas:[{item:"item1",value:5,time:1561019825401},{item:"item2",value:15,time:1561009825401}],textOptions:{size:30},scalePaddingLeft:50}})},G=function(){return o.createElement(Y,{options:{datas:[{item:"item1",value:5},{item:"item2",value:15},{item:"item3",value:12}],textOptions:{size:30,color:"red"},scalePaddingLeft:50,colors:["red"]}})};e.default=function(t){return o.createElement("div",null,o.createElement(q,null),o.createElement(X,null),o.createElement(G,null))}}}]);